{"mappings":"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","sources":["movie.js"],"sourcesContent":["// Constants\nconst API_BASE_URL = 'https://api.tvmaze.com/search/shows';\nconst CAROUSEL_LIMIT = 5;\n\n// Main App Class\nclass MovieApp {\n    constructor() {\n        this.initializeElements();\n        this.initializeEventListeners();\n        this.watchlistManager = new StorageManager('watchlist');\n        this.favoritesManager = new StorageManager('favourites');\n        this.carouselManager = new CarouselManager();\n    }\n\n    initializeElements() {\n        this.form = document.querySelector('form');\n        this.gallery = document.querySelector('.image-container');\n        this.searchInput = this.form.querySelector('input');\n        this.watchlistDisplay = document.getElementById('watchlist');\n        this.favouritesDisplay = document.getElementById('favourites');\n    }\n\n    initializeEventListeners() {\n        this.form.addEventListener('submit', this.handleSearch.bind(this));\n        window.addEventListener('load', () => {\n            this.watchlistManager.display();\n            this.favoritesManager.display();\n        });\n    }\n\n    async handleSearch(e) {\n        e.preventDefault();\n        const query = this.searchInput.value.trim() || 'nothing';\n        this.searchInput.value = '';\n\n        try {\n            const shows = await this.fetchShows(query);\n            this.carouselManager.updateCarousel(shows, {\n                watchlistManager: this.watchlistManager,\n                favoritesManager: this.favoritesManager\n            });\n        } catch (error) {\n            this.handleError(error);\n        }\n    }\n\n    async fetchShows(query) {\n        try {\n            const response = await fetch(`${API_BASE_URL}?q=${encodeURIComponent(query)}`);\n            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n            return await response.json();\n        } catch (error) {\n            throw new Error(`Failed to fetch shows: ${error.message}`);\n        }\n    }\n\n    handleError(error) {\n        console.error('Error:', error);\n        this.showErrorNotification(error.message);\n    }\n\n    showErrorNotification(message) {\n        const notification = document.createElement('div');\n        notification.classList.add('error-notification');\n        notification.textContent = message;\n        document.body.appendChild(notification);\n        \n        setTimeout(() => notification.remove(), 3000);\n    }\n}\n\n// Carousel Manager Class\nclass CarouselManager {\n    constructor() {\n        this.carouselInner = document.querySelector('#topRatedCarousel .carousel-inner');\n    }\n\n    updateCarousel(shows, { watchlistManager, favoritesManager }) {\n        this.clearCarousel();\n        \n        const validShows = shows\n            .filter(show => show.show.image)\n            .slice(0, CAROUSEL_LIMIT);\n\n        validShows.forEach((show, index) => {\n            this.createCarouselItem(show, index === 0, watchlistManager, favoritesManager);\n        });\n    }\n\n    clearCarousel() {\n        this.carouselInner.innerHTML = '';\n    }\n\n    createCarouselItem(show, isActive, watchlistManager, favoritesManager) {\n        const { name, image, rating } = show.show;\n        const carouselItem = document.createElement('div');\n        carouselItem.classList.add('carousel-item');\n        if (isActive) carouselItem.classList.add('active');\n\n        carouselItem.innerHTML = `\n            <img src=\"${image.original}\" class=\"d-block w-100 carousel-image\" alt=\"${name}\">\n            <div class=\"carousel-caption d-none d-md-block\">\n                <h5>${name}</h5>\n                <p>Rating: ${rating?.average || 'N/A'}</p>\n                <div class=\"button-group\">\n                    ${this.createActionButtons(name, image.original)}\n                </div>\n            </div>\n        `;\n\n        // Add event listeners to buttons\n        const buttons = carouselItem.querySelectorAll('button');\n        buttons[0].addEventListener('click', () => watchlistManager.add(name, image.original));\n        buttons[1].addEventListener('click', () => favoritesManager.add(name, image.original));\n\n        this.carouselInner.appendChild(carouselItem);\n    }\n\n    createActionButtons(name, image) {\n        return `\n            <button class=\"btn btn-primary\">Add to Watchlist</button>\n            <button class=\"btn btn-success\">Add to Favourites</button>\n        `;\n    }\n}\n\n// Storage Manager Class\nclass StorageManager {\n    constructor(storageKey) {\n        this.storageKey = storageKey;\n        this.items = JSON.parse(localStorage.getItem(storageKey)) || [];\n        this.displayElement = document.getElementById(storageKey);\n    }\n\n    add(name, image) {\n        if (!this.items.some(item => item.name === name)) {\n            this.items.push({ name, image });\n            this.saveToStorage();\n            this.display();\n        }\n    }\n\n    remove(name) {\n        this.items = this.items.filter(item => item.name !== name);\n        this.saveToStorage();\n        this.display();\n    }\n\n    saveToStorage() {\n        localStorage.setItem(this.storageKey, JSON.stringify(this.items));\n    }\n\n    display() {\n        if (!this.items.length) {\n            this.displayElement.innerHTML = `<p>No items in your ${this.storageKey}.</p>`;\n            return;\n        }\n\n        const carousel = this.createCarousel();\n        this.displayElement.innerHTML = '';\n        this.displayElement.appendChild(carousel);\n    }\n\n    createCarousel() {\n        const carousel = document.createElement('div');\n        carousel.classList.add('carousel', 'slide');\n        carousel.setAttribute('data-bs-ride', 'carousel');\n        carousel.id = `${this.storageKey}Carousel`;\n\n        const carouselInner = document.createElement('div');\n        carouselInner.classList.add('carousel-inner');\n\n        this.items.forEach((item, index) => {\n            carouselInner.appendChild(this.createCarouselItem(item, index === 0));\n        });\n\n        carousel.appendChild(carouselInner);\n        carousel.appendChild(this.createCarouselControl('prev'));\n        carousel.appendChild(this.createCarouselControl('next'));\n\n        return carousel;\n    }\n\n    createCarouselItem(item, isActive) {\n        const itemDiv = document.createElement('div');\n        itemDiv.classList.add('carousel-item');\n        if (isActive) itemDiv.classList.add('active');\n\n        itemDiv.innerHTML = `\n            <img src=\"${item.image}\" alt=\"${item.name}\" class=\"d-block w-100\">\n            <div class=\"carousel-caption\">\n                <h5>${item.name}</h5>\n                <button class=\"btn btn-danger\" onclick=\"app.${this.storageKey}Manager.remove('${item.name}')\">\n                    Remove\n                </button>\n            </div>\n        `;\n\n        return itemDiv;\n    }\n\n    createCarouselControl(direction) {\n        const button = document.createElement('button');\n        button.classList.add(`carousel-control-${direction}`);\n        button.setAttribute('type', 'button');\n        button.setAttribute('data-bs-target', `#${this.storageKey}Carousel`);\n        button.setAttribute('data-bs-slide', direction);\n        \n        button.innerHTML = `\n            <span class=\"carousel-control-${direction}-icon\" aria-hidden=\"true\"></span>\n            <span class=\"visually-hidden\">${direction}</span>\n        `;\n        \n        return button;\n    }\n}\n\n// CSS for error notification\nconst style = document.createElement('style');\nstyle.textContent = `\n    .error-notification {\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background-color: #ff4444;\n        color: white;\n        padding: 1rem;\n        border-radius: 4px;\n        z-index: 1000;\n        animation: slideIn 0.3s ease-out;\n    }\n\n    @keyframes slideIn {\n        from { transform: translateX(100%); }\n        to { transform: translateX(0); }\n    }\n\n    .button-group {\n        display: flex;\n        gap: 1rem;\n        justify-content: center;\n    }\n`;\ndocument.head.appendChild(style);\n\n// Initialize the app\nconst app = new MovieApp();\n// Make app global for carousel button access\nwindow.app = app;"],"names":[],"version":3,"file":"index.18dd1764.js.map","sourceRoot":"/__parcel_source_root/"}